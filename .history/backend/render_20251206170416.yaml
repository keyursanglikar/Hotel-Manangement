# render.yaml
services:
  # Define a web service
  - type: web           # Type of service (web, worker, cron, etc.)
    name: hotel-manangement  # Name of your service
    env: node           # Environment (node, python, docker, etc.)
    region: ohio        # AWS region (ohio, oregon, frankfurt, etc.)
    plan: free          # Plan (free, starter, professional)
    
    # Build and start commands
    buildCommand: npm install
    startCommand: npm start
    
    # Health check endpoint
    healthCheckPath: /api/health
    
    # Auto deploy from Git
    autoDeploy: true
    
    # Branch to deploy from (optional)
    branch: main
    
    # Environment variables
    envVars:
      # Required variables
      - key: NODE_ENV
        value: production
      
      - key: PORT
        value: 4000
      
      # Secret variables (set in Render dashboard)
      - key: MONGODB_URI
        sync: false
      
      - key: JWT_SECRET
        sync: false
      
      # CORS configuration
      - key: CORS_ORIGIN
        value: https://food-frontend.vercel.app,https://food-admin.vercel.app,http://localhost:5174,http://localhost:5173
      
      # Optional: Additional variables
      - key: FRONTEND_URL
        value: https://food-frontend.vercel.app
      
      - key: ADMIN_URL
        value: https://food-admin.vercel.app
    
    # Disk storage for uploads (if needed)
    disk:
      name: uploads
      mountPath: /opt/render/project/src/uploads
      sizeGB: 1